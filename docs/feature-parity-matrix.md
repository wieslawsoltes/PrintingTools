# WPF ↔ Avalonia Printing Feature Parity Matrix

| Feature Area | Tier | WPF Capability Snapshot | Avalonia Status (Current) | macOS Bridge Considerations | Notes / Follow-Up |
| --- | --- | --- | --- | --- | --- |
| Print dialog (queue selection, page range, copies) | Baseline | `System.Windows.Controls.PrintDialog` handles queue selection, page range validation, copy count, printable area metrics. | ✅ Complete – Windows `PrintDlgEx`, macOS sheet, Linux GTK + managed fallback available. | macOS sheet accessories verified; Windows dialog shipping via Win32 adapter. | Watch for UX polish on the Avalonia-hosted dialog; keep notarization guidance in `docs/macos-sandbox-harness.md`. |
| Printable area & paginator integration | Baseline | `PrintDialog.PrintableAreaWidth/Height`, `DocumentPaginator` interplay. | ⚠️ Partial – shared paginator (`PrintRenderPipeline`, `PrintPageMetrics`) shipped; Windows preview wiring complete, unified Avalonia dialog pending. | macOS adapter now maps metrics into `NSPrintInfo`; DPI alignment verified via harness. | Finalize shared Avalonia page setup UX to surface metrics cross-platform. |
| Print ticket negotiation | Baseline | `PrintQueue.GetPrintCapabilities`, `MergeAndValidatePrintTicket`. | ⚠️ Partial – `PrintTicketModel` with capability merge shipped; vendor-specific extension UI still outstanding. | Map Avalonia abstraction to `NSPrintInfo` dictionaries; preserve vendor overrides. | Backlog: expose vendor extension editing surface. |
| Job submission & progress dialog | Baseline | `XpsDocumentWriter.WriteAsync`, `PrintQueue.AddJob` show progress window. | ⚠️ Partial – all adapters spool jobs with diagnostics; shared Avalonia progress UI not yet implemented. | Design shared progress/cancellation surface for Avalonia clients. | Create shared job lifecycle service + Avalonia progress UI. |
| Duplex / collation / copies | Enhanced | Exposed via `PrintTicket` properties and dialog controls. | ⚠️ Partial – duplex/copies supported via capability merge on all adapters; collation + UI toggles pending. | Utilize `NSPrintInfo.Copies`, `NSPrintInfo.Duplex`, fall back gracefully for printers lacking features. | Wire collation toggles into dialog once UX signed off. |
| Scaling & fit-to-page | Enhanced | `PageScalingFactor`, `PrintDialog.PrintableArea` heuristics. | ⚠️ Partial – scale hints and page setup dialog exist; unified toggle still deferred. | macOS honours scale via `NSPrintInfo`; Windows/Linux follow paginator hints. | Polish Avalonia UI for explicit fit-to-page options. |
| Regression coverage & docs | Baseline | WPF has print regression tests (documented in internal QA playbooks) plus MSDN troubleshooting notes. | ✅ Complete – Windows/macOS/Linux harnesses in CI with golden metrics and docs. | Map parity documentation into internal onboarding for QA teams. | See harness docs for validation workflow; keep metrics baselines fresh. |
| N-up / booklet / poster | Enhanced | `PagesPerSheet`, custom paginator implementations. | ⚠️ Partial – layout metadata + renderer delivered; UX polish and driver testing ongoing. | Evaluate `NSPrintInfo.JobDisposition` or custom pagination per page. | Track driver quirks and finish Avalonia UX to expose options. |
| Color mode / profile selection | Enhanced | `PrintTicket.OutputColor`, vendor-specific dialogs. | ⚠️ Partial – ticket-level color mode available; dedicated UI/ICC profile selection pending. | Map to `NSPrintInfo.ColorSpaceName`, handle sRGB vs P3, allow driver override. | Document reliance on native dialogs; evaluate managed UI post-MVP. |
| Job monitoring dashboard | Advanced | `PrintQueue.GetPrintJobInfoCollection` UI. | ❌ Missing – no queue polling or UI. | Requires wrappers for `PMPrinter` job polling and notifications. | Backlog item for post-parity release. |
| Vendor ticket editing | Advanced | Custom UI hooking `PrintTicket.XmlStream`. | ❌ Missing – no extensibility points. | Provide hooks to show vendor panels (e.g., `NSPrintPanel.AccessoryView`). | Explore plugin architecture; low priority. |
| Export to PDF/XPS | Advanced | XPS pipeline plus `Microsoft.Xps`. | ⚠️ Partial – managed PDF export complete; Windows XPS spool integration planned. | macOS PDF export functional via `NSPrintOperation`. | Plan Windows XPS submission to cover legacy workflows. |

## Next Steps
- Add Linux/browser columns once cross-platform roadmap is approved.
- Link each row to detailed user stories or GitHub issues for tracking.
